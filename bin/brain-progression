#!/usr/bin/env php

<?php

$autoloadPath1 = __DIR__ . '/../../../autoload.php';
$autoloadPath2 = __DIR__ . '/../vendor/autoload.php';
if (file_exists($autoloadPath1)) {
    include_once $autoloadPath1;
} else {
    include_once $autoloadPath2;
}

use Brain\Games\Engine;
use Brain\Games\Helper;


const DESCRIPTION = 'What number is missing in the progression?';

$data = function () {
    $setNumbers = Helper\progression();
    $length = count($setNumbers);
    $happyIndex = rand(0, $length - 1); 
    $question = '';
    for ($i = 0; $i <= $length - 1; $i++) {
        if ($i === $happyIndex) {
            $question .= '.. ';
        } else {
            $question .= $setNumbers[$i] . ' ';
        }
    }
    $answer = $setNumbers[$happyIndex];
    return [$question, $answer];
};

Engine\run(DESCRIPTION, $data);